<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <title>币安合约实时监控</title>
    <link rel="stylesheet" href="./styles/app.css" />
  </head>
  <body>
    <h1>币安合约实时监控看板</h1>
    <div id="alert-overlay" class="alert-overlay hidden">
      <div class="alert-modal">
        <h3>短期涨幅预警</h3>
        <p>
          以下交易对的短期涨幅已超过
          <span id="alert-threshold-label">5.0</span>%。
        </p>
        <ul class="alert-list"></ul>
        <button id="alert-ack">知道了</button>
      </div>
    </div>

    <div class="dashboard">
      <section class="panel">
        <h2>24 小时涨幅榜</h2>
        <p>按 24 小时涨幅排序，实时展示合约行情。</p>
        <table>
          <thead>
            <tr>
              <th>交易对</th>
              <th>最新价</th>
              <th>开盘价</th>
              <th>24 小时涨幅</th>
              <th>成交量</th>
              <th>成交额</th>
            </tr>
          </thead>
          <tbody id="long-table-body">
            <tr>
              <td class="placeholder" colspan="6">等待行情数据…</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="panel">
        <h2>短期涨幅榜</h2>
        <p>
          按最近 <span id="short-window-text">1</span> 分钟涨幅排序，展示前
          <span id="short-limit-text">10</span> 个交易对。
        </p>
        <table>
          <thead>
            <tr>
              <th>交易对</th>
              <th>最新价</th>
              <th><span id="short-window-header">1</span> 分钟前</th>
              <th>短期涨幅</th>
            </tr>
          </thead>
          <tbody id="short-table-body">
            <tr>
              <td class="placeholder" colspan="4">等待行情数据…</td>
            </tr>
          </tbody>
        </table>

        <div class="settings">
          <h3>设置</h3>
          <form class="settings-form" id="settings-form">
            <div>
              <label for="short_window">设置时长监听</label>
              <select id="short_window" name="short_window">
                <option value="1">1 分钟</option>
                <option value="2">2 分钟</option>
                <option value="5">5 分钟</option>
              </select>
            </div>
            <div>
              <label for="short_limit">短期涨幅榜显示数量</label>
              <input
                id="short_limit"
                type="number"
                min="1"
                max="50"
                name="short_limit"
                value="10"
              />
            </div>
            <div>
              <label for="short_threshold">短期涨幅预警阈值 (%)</label>
              <input
                id="short_threshold"
                type="number"
                min="0.1"
                max="100"
                step="0.1"
                name="short_threshold"
                value="5.0"
              />
            </div>
            <div>
              <label for="short_sound">是否打开预警声音</label>
              <select id="short_sound" name="short_sound">
                <option value="1">开启</option>
                <option value="0">关闭</option>
              </select>
            </div>
            <button type="submit">保存设置</button>
          </form>
        </div>
      </section>
    </div>

    <script type="module" src="./scripts/app.js"></script>
  </body>
</html>
